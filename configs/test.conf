
# Test server 1
server {
    listen 8081; # Port to listen on
    server_name test1.localhost; # Server name

    client_max_body_size 2M; # Maximum allowed size for client requests

    # Default error pages
    error_page 404 /errors/404.html;
    error_page 500 /errors/500.html;

    # Root directory for static files
    location / {
        root /www/test1; # Root directory for static files
        index index.html; # Default file to serve for directories
        allow_methods GET POST; # Allowed HTTP methods
    }

    # CGI scripts location
    location /cgi-bin {
        root /www/test1/cgi-bin; # Root directory for CGI scripts
        cgi_extension .py; # File extension for CGI scripts
        cgi_path /usr/bin/python3; # Path to the CGI interpreter
        allow_methods GET POST; # Allowed HTTP methods
    }
}

# Test server 2
server {
    listen 8082; # Port to listen on
    server_name test2.localhost; # Server name

    client_max_body_size 5M; # Maximum allowed size for client requests

    # Default error pages
    error_page 404 /errors/404.html;
    error_page 500 /errors/500.html;

    # Root directory for static files
    location / {
        root /www/test2; # Root directory for static files
        index index.html; # Default file to serve for directories
        allow_methods GET POST DELETE; # Allowed HTTP methods
    }

    # File uploads location
    location /uploads {
        root /www/test2/uploads; # Root directory for uploaded files
        allow_upload on; # Allow file uploads
        allow_methods POST; # Allowed HTTP methods
    }
}
